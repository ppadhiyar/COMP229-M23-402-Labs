"use strict";(self.webpackChunkBookStore=self.webpackChunkBookStore||[]).push([[694],{3694:(x,g,u)=>{u.r(g),u.d(g,{AdminModule:()=>O});var p=u(6814),s=u(285),l=u(6997),f=u(5964),t=u(2025),m=u(9940);function b(o,r){if(1&o&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMessage," ")}}let Z=(()=>{class o{constructor(e,n){this.router=e,this.auth=n}ngOnInit(){this.user=new f.n}authenticate(e){e.valid?this.auth.authenticate(this.user).subscribe(n=>{n.success&&(this.auth.storeUserData(n.token,n.user),this.router.navigateByUrl("admin/main"))}):this.errorMessage="Form Data Invalid"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.F0),t.Y36(m.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:26,vars:3,consts:[[1,"bg-info","p-2","text-center","text-white"],[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3","col-lg-6","offset-lg-3","col-sm-8","offset-sm-1"],["class","bg-danger mt-2 p-2 text-center text-white",4,"ngIf"],["autocomplete","off",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["for","username"],["type","text","name","username","placeholder","Enter Username","id","username","required","","autofocus","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","placeholder","Enter Password","id","password","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-right"],["type","submit",1,"btn","btn-primary","m-1"],[1,"fas","fa-sign-in-alt"],["routerLink","/home",1,"btn","btn-secondary","m-1"],[1,"fas","fa-undo"],[1,"bg-danger","mt-2","p-2","text-center","text-white"]],template:function(e,n){if(1&e){const d=t.EpF();t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"BookStore Admin"),t.qZA()(),t.TgZ(3,"main",1)(4,"div",2)(5,"div",3),t.YNc(6,b,2,1,"div",4),t.TgZ(7,"h1"),t._uU(8,"Please Login"),t.qZA(),t.TgZ(9,"form",5,6),t.NdJ("ngSubmit",function(){t.CHM(d);const i=t.MAs(10);return t.KtG(n.authenticate(i))}),t.TgZ(11,"fieldset",7)(12,"label",8),t._uU(13,"Username:"),t.qZA(),t.TgZ(14,"input",9),t.NdJ("ngModelChange",function(i){return n.user.username=i}),t.qZA()(),t.TgZ(15,"fieldset",7)(16,"label",10),t._uU(17,"Password:"),t.qZA(),t.TgZ(18,"input",11),t.NdJ("ngModelChange",function(i){return n.user.password=i}),t.qZA()(),t.TgZ(19,"fieldset",12)(20,"button",13),t._UZ(21,"i",14),t._uU(22," Log In "),t.qZA(),t.TgZ(23,"button",15),t._UZ(24,"i",16),t._uU(25," Cancel "),t.qZA()()()()()()}2&e&&(t.xp6(6),t.Q6J("ngIf",null!=n.errorMessage),t.xp6(8),t.Q6J("ngModel",n.user.username),t.xp6(4),t.Q6J("ngModel",n.user.password))},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,l.rH],encapsulation:2}),o})(),c=(()=>{class o{constructor(e,n){this.router=e,this.auth=n}canActivate(e,n){return this.auth.authenticated?(console.log("authenticated"),!0):(console.log("cannot authenticate"),this.router.navigate(["/admin/auth"]),!1)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(l.F0),t.LFG(m.e))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),T=(()=>{class o{constructor(e,n){this.auth=e,this.router=n}logout(){this.auth.logout(),this.router.navigateByUrl("/")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.e),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:10,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"row","mt-2"],[1,"col-3"],["routerLink","/admin/main/books","routerLinkActive","active",1,"btn","btn-outline-info","btn-block"],["routerLink","/admin/main/orders","routerLinkActive","active",1,"btn","btn-outline-info","btn-block"],[1,"col-9"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t._uU(5," Books "),t.qZA(),t.TgZ(6,"button",5),t._uU(7," Orders "),t.qZA()(),t.TgZ(8,"div",6),t._UZ(9,"router-outlet"),t.qZA()()())},dependencies:[l.lC,l.rH,l.Od],encapsulation:2}),o})();var A=u(9416);function k(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2,"There are no orders"),t.qZA()())}function C(o,r){if(1&o&&(t.TgZ(0,"tr"),t._UZ(1,"td",4),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&o){const e=r.$implicit;t.xp6(3),t.Oqu(e.book.name),t.xp6(2),t.Oqu(e.quantity)}}function U(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Product"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Quantity"),t.qZA(),t.TgZ(9,"td")(10,"button",8),t.NdJ("click",function(){const a=t.CHM(e).$implicit,i=t.oxw();return t.KtG(i.markShipped(a))}),t._UZ(11,"i"),t._uU(12),t.qZA()(),t.TgZ(13,"td")(14,"button",9),t.NdJ("click",function(){const a=t.CHM(e).$implicit,i=t.oxw();return t.KtG(i.delete(a._id))}),t._UZ(15,"i",10),t._uU(16," Delete "),t.qZA()()(),t.YNc(17,C,6,2,"tr",11)}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.postalCode),t.xp6(7),t.Tol(e.shipped?"fas fa-shipping-fast":"fas fa-truck"),t.xp6(1),t.hij(" ",e.shipped?"Shipped":"Ship"," "),t.xp6(5),t.Q6J("ngForOf",e.cart.lines)}}let v=(()=>{class o{constructor(e,n){this.repository=e,this.router=n,this.includeShipped=!1}ngOnInit(){}getOrders(){return this.repository.getOrders().filter(e=>this.includeShipped||!e.shipped)}markShipped(e){e.shipped=!e.shipped,this.repository.updateOrder(e),this.router.navigateByUrl("/admin/main/orders")}delete(e){confirm("Are you sure?")?this.repository.deleteOrder(e):this.router.navigateByUrl("/admin/main/orders")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.f),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:18,vars:3,consts:[[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"table","table-sm"],["colspan","2"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["colspan","5"],[1,"btn","btn-warning","m-1",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"label",1)(2,"input",2),t.NdJ("ngModelChange",function(a){return n.includeShipped=a}),t.qZA(),t._uU(3," Display Shipped Orders "),t.qZA()(),t.TgZ(4,"table",3)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Postal Code"),t.qZA(),t.TgZ(11,"th",4),t._uU(12,"Cart"),t.qZA(),t._UZ(13,"th")(14,"th"),t.qZA()(),t.TgZ(15,"tbody"),t.YNc(16,k,3,0,"tr",5),t.YNc(17,U,18,7,"ng-template",6),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngModel",n.includeShipped),t.xp6(14),t.Q6J("ngIf",0==n.getOrders().length),t.xp6(1),t.Q6J("ngForOf",n.getOrders()))},dependencies:[p.sg,p.O5,s.Wl,s.JJ,s.On],encapsulation:2}),o})();var y=u(821),h=u(4556);let _=(()=>{class o{constructor(e,n,d){this.repository=e,this.router=n,this.editing=!1,this.book=new y.f,this.editing="edit"===d.snapshot.params.mode,this.editing&&Object.assign(this.book,e.getBook(d.snapshot.params.id))}ngOnInit(){}save(e){this.repository.saveBook(this.book),this.router.navigateByUrl("/admin/main/books")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.e),t.Y36(l.F0),t.Y36(l.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:31,vars:16,consts:[[1,"bg-primary","p-2","text-white"],["novalidate","",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["type","text","name","name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","author",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","published",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","price",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","m-1"],["type","reset","routerLink","/admin/main/books",1,"btn","btn-secondary"],[1,"fas","fa-undo"]],template:function(e,n){if(1&e){const d=t.EpF();t.TgZ(0,"div",0)(1,"h5"),t._uU(2),t.qZA()(),t.TgZ(3,"form",1,2),t.NdJ("ngSubmit",function(){t.CHM(d);const i=t.MAs(4);return t.KtG(n.save(i))}),t.TgZ(5,"div",3)(6,"label"),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"input",4),t.NdJ("ngModelChange",function(i){return n.book.name=i}),t.qZA()(),t.TgZ(9,"div",3)(10,"label"),t._uU(11,"Author"),t.qZA(),t.TgZ(12,"input",5),t.NdJ("ngModelChange",function(i){return n.book.author=i}),t.qZA()(),t.TgZ(13,"div",3)(14,"label"),t._uU(15,"Published"),t.qZA(),t.TgZ(16,"input",6),t.NdJ("ngModelChange",function(i){return n.book.published=i}),t.qZA()(),t.TgZ(17,"div",3)(18,"label"),t._uU(19,"Description"),t.qZA(),t.TgZ(20,"input",7),t.NdJ("ngModelChange",function(i){return n.book.description=i}),t.qZA()(),t.TgZ(21,"div",3)(22,"label"),t._uU(23,"Price"),t.qZA(),t.TgZ(24,"input",8),t.NdJ("ngModelChange",function(i){return n.book.price=i}),t.qZA()(),t.TgZ(25,"button",9),t._UZ(26,"i"),t._uU(27),t.qZA(),t.TgZ(28,"button",10),t._UZ(29,"i",11),t._uU(30," Cancel "),t.qZA()()}2&e&&(t.ekj("bg-warning",n.editing)("text-dark",n.editing),t.xp6(2),t.hij("",n.editing?"Edit":"Add"," Book"),t.xp6(6),t.Q6J("ngModel",n.book.name),t.xp6(4),t.Q6J("ngModel",n.book.author),t.xp6(4),t.Q6J("ngModel",n.book.published),t.xp6(4),t.Q6J("ngModel",n.book.description),t.xp6(4),t.Q6J("ngModel",n.book.price),t.xp6(1),t.ekj("btn-warning",n.editing),t.xp6(1),t.Tol(n.editing?"fas fa-save":"fas fa-plus-circle"),t.xp6(1),t.hij(" ",n.editing?"Save":"Add"," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,l.rH],encapsulation:2}),o})();function q(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"td")(13,"button",4),t.NdJ("click",function(){const a=t.CHM(e).$implicit,i=t.oxw();return t.KtG(i.editBook(a._id))}),t._UZ(14,"i",5),t._uU(15," Edit "),t.qZA()(),t.TgZ(16,"td")(17,"button",6),t.NdJ("click",function(){const a=t.CHM(e).$implicit,i=t.oxw();return t.KtG(i.deleteBook(a._id))}),t._UZ(18,"i",7),t._uU(19," Delete "),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.author),t.xp6(2),t.Oqu(e.published),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(t.gM2(11,5,e.price,"USD","symbol","2.2-2"))}}const B=l.Bz.forChild([{path:"auth",component:Z},{path:"main",component:T,canActivate:[c],children:[{path:"books/:mode/:id",component:_,data:{title:"Edit Book"},canActivate:[c]},{path:"books/:mode",component:_,data:{title:"Add Book"},canActivate:[c]},{path:"books",component:(()=>{class o{constructor(e,n){this.repository=e,this.router=n}ngOnInit(){}getBooks(){return this.repository.getBooks()}deleteBook(e){confirm("Are you sure?")&&void 0!==e?this.repository.deleteBook(e):(window.location.reload(),this.router.navigateByUrl("/admin/main/books"))}addBook(){this.router.navigateByUrl("/admin/main/books/add")}editBook(e){this.router.navigateByUrl("/admin/main/books/edit/"+e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.e),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:20,vars:1,consts:[[1,"table","table-sm","table-striped"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus-circle"],[1,"btn","btn-sm","btn-primary","m-1",3,"click"],[1,"fas","fa-pencil-alt"],[1,"btn","btn-sm","btn-danger","m-1",3,"click"],[1,"fas","fa-trash-alt"]],template:function(e,n){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Name"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Author"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Published"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Description"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Price"),t.qZA(),t._UZ(13,"th")(14,"th"),t.qZA()(),t.TgZ(15,"tbody"),t.YNc(16,q,20,10,"tr",1),t.qZA()(),t.TgZ(17,"button",2),t.NdJ("click",function(){return n.addBook()}),t._UZ(18,"i",3),t._uU(19," Add New Book\n"),t.qZA()),2&e&&(t.xp6(16),t.Q6J("ngForOf",n.getBooks()))},dependencies:[p.sg,p.H9],encapsulation:2}),o})(),data:{title:"Book Table"},canActivate:[c]},{path:"orders",component:v,data:{title:"Order Table"},canActivate:[c]},{path:"**",redirectTo:"book-list"}]},{path:"**",redirectTo:"auth"}]);let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[c],imports:[p.ez,s.u5,B]}),o})()}}]);