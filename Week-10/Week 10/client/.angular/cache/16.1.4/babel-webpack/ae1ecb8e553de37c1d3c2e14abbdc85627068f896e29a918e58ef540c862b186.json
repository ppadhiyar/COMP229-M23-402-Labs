{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./rest.datasource\";\nexport let OrderRepository = /*#__PURE__*/(() => {\n  class OrderRepository {\n    constructor(dataSource) {\n      this.dataSource = dataSource;\n      this.orders = [];\n      this.loaded = false;\n    }\n    loadOrders() {\n      this.loaded = true;\n      this.dataSource.getOrders().subscribe(orders => this.orders = orders);\n    }\n    getOrders() {\n      if (!this.loaded) {\n        this.loadOrders();\n      }\n      return this.orders;\n    }\n    saveOrder(order) {\n      return this.dataSource.saveOrder(order);\n    }\n    updateOrder(updatedOrder) {\n      this.dataSource.updateOrder(updatedOrder).subscribe(order => {\n        this.orders.splice(this.orders.findIndex(o => o._id === order._id), 1, order);\n      });\n    }\n    deleteOrder(id) {\n      this.dataSource.deleteOrder(id).subscribe(order => {\n        this.orders.splice(this.orders.findIndex(o => id === o._id), 1);\n      });\n    }\n  }\n  OrderRepository.ɵfac = function OrderRepository_Factory(t) {\n    return new (t || OrderRepository)(i0.ɵɵinject(i1.RestDataSource));\n  };\n  OrderRepository.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: OrderRepository,\n    factory: OrderRepository.ɵfac\n  });\n  return OrderRepository;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}